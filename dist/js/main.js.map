{
  "version": 3,
  "sources": ["../../build/js/main.js"],
  "sourcesContent": ["// show focus only when user is tabbing, you can find it's relevant CSS code in main.css\nfunction handleFirstTab(e) {\n  if (e.keyCode === 9) {\n    // the \"I am a keyboard user\" key\n    document.body.classList.add('user__is__tabbing');\n    window.removeEventListener('keydown', handleFirstTab);\n  }\n}\n\nwindow.addEventListener('keydown', handleFirstTab);\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  const placeholder = document.querySelector('.parallax-placeholder');\n  const footer = document.querySelector('.footer-container');\n  let placeholderTop, ticking;\n  window.addEventListener('resize', onResize); // On DOM Content Load, set placeholder height to be equal to footer height\n\n  updateHolderHeight();\n  checkFooterHeight(); // On window resize, update placeholder height to be equal to footer height\n\n  function onResize() {\n    updateHolderHeight();\n    checkFooterHeight();\n  } // Placeholder should always match footer height\n\n\n  function updateHolderHeight() {// placeholder.style.height = `${footer.offsetHeight}px`\n  }\n\n  function checkFooterHeight() {\n    if (footer.offsetHeight > window.innerHeight) {\n      // Check if footer is taller than window height\n      window.addEventListener('scroll', onScroll);\n      footer.style.bottom = 'unset';\n      footer.style.top = '0px';\n    } else {\n      // If footer height is not greater than window height, bottom is 0 for normal parllax \n      window.removeEventListener('scroll', onScroll);\n      footer.style.top = 'unset';\n      footer.style.bottom = '0px';\n    }\n  }\n\n  function onScroll() {\n    placeholderTop = Math.round(placeholder.getBoundingClientRect().top);\n    requestTick();\n  }\n\n  function requestTick() {\n    if (!ticking) requestAnimationFrame(updateBasedOnScroll);\n    ticking = true;\n  }\n\n  function updateBasedOnScroll() {\n    // Reset the tick so we can capture the next onScroll\n    ticking = false; // When main content disappears from view, start to move footer up \n    // in conjunction with placeholder top value (in relation to viewport)\n\n    if (placeholderTop <= 0) {\n      footer.style.top = `${placeholderTop}px`; // match footer top value with placeholder's top value\n    }\n  }\n}); // Requires the polyfill unitl fully supported\n\nimport dialogPolyfill from \"https://cdn.skypack.dev/dialog-polyfill@0.5.6\"; // Custom open and close handeler\n// This also has an close via backdrop option\n// TODO Replace with the Fylgja Plugin `@fylgja/dialog-js`\n\nfunction newDialog(id, button, backdrop = true) {\n  const dialog = document.querySelector(id);\n  const btn = document.querySelector(button);\n  if (!dialog) return;\n  if (!btn) return;\n\n  if (typeof HTMLDialogElement !== \"function\") {\n    dialogPolyfill.registerDialog(dialog);\n  }\n\n  const dialogClose = (target, e, dialog) => {\n    if (!e.target.closest(target)) return;\n    dialog.close();\n  };\n\n  const dialogCloseOnBackdrop = (e, dialog) => {\n    const rect = dialog.getBoundingClientRect();\n    const isInDialog = rect.top <= e.clientY && e.clientY <= rect.top + rect.height && rect.left <= e.clientX && e.clientX <= rect.left + rect.width;\n\n    if (!isInDialog) {\n      dialog.close();\n    }\n  };\n\n  btn.addEventListener(\"click\", () => {\n    if (backdrop) {\n      dialog.showModal();\n    } else {\n      dialog.show();\n    }\n  });\n  dialog.addEventListener(\"click\", e => {\n    dialogClose(\".close\", e, dialog);\n    dialogCloseOnBackdrop(e, dialog);\n  });\n}\n\nnewDialog(\"#dialog-modal-gutter-cleaning\", \"#show-dialog-modal-gutter-cleaning\");\nnewDialog(\"#dialog-modal-residential\", \"#show-dialog-modal-residential\");\nnewDialog(\"#dialog-modal-commercial\", \"#show-dialog-modal-commercial\");\nnewDialog(\"#dialog-modal-hot-water\", \"#show-dialog-modal-hot-water\");\nnewDialog(\"#dialog-modal-insurance\", \"#show-dialog-modal-insurance\");\nnewDialog(\"#dialog-modal-environment\", \"#show-dialog-modal-environment\");"],
  "mappings": "AA+DA,6DA9DA,WAAwB,EAAG,CACzB,AAAI,EAAE,UAAY,GAEhB,UAAS,KAAK,UAAU,IAAI,qBAC5B,OAAO,oBAAoB,UAAW,IAI1C,OAAO,iBAAiB,UAAW,GACnC,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,GAAM,GAAc,SAAS,cAAc,yBACrC,EAAS,SAAS,cAAc,qBAClC,EAAgB,EACpB,OAAO,iBAAiB,SAAU,GAElC,IACA,IAEA,YAAoB,CAClB,IACA,IAIF,YAA8B,EAG9B,YAA6B,CAC3B,AAAI,EAAO,aAAe,OAAO,YAE/B,QAAO,iBAAiB,SAAU,GAClC,EAAO,MAAM,OAAS,QACtB,EAAO,MAAM,IAAM,OAGnB,QAAO,oBAAoB,SAAU,GACrC,EAAO,MAAM,IAAM,QACnB,EAAO,MAAM,OAAS,OAI1B,YAAoB,CAClB,EAAiB,KAAK,MAAM,EAAY,wBAAwB,KAChE,IAGF,YAAuB,CACrB,AAAK,GAAS,sBAAsB,GACpC,EAAU,GAGZ,YAA+B,CAE7B,EAAU,GAGN,GAAkB,GACpB,GAAO,MAAM,IAAM,GAAG,UAS5B,WAAmB,EAAI,EAAQ,EAAW,GAAM,CAC9C,GAAM,GAAS,SAAS,cAAc,GAChC,EAAM,SAAS,cAAc,GAEnC,GADI,CAAC,GACD,CAAC,EAAK,OAEV,AAAI,MAAO,oBAAsB,YAC/B,EAAe,eAAe,GAGhC,GAAM,GAAc,CAAC,EAAQ,EAAG,IAAW,CACzC,AAAI,CAAC,EAAE,OAAO,QAAQ,IACtB,EAAO,SAGH,EAAwB,CAAC,EAAG,IAAW,CAC3C,GAAM,GAAO,EAAO,wBAGpB,AAAK,AAFc,EAAK,KAAO,EAAE,SAAW,EAAE,SAAW,EAAK,IAAM,EAAK,QAAU,EAAK,MAAQ,EAAE,SAAW,EAAE,SAAW,EAAK,KAAO,EAAK,OAGzI,EAAO,SAIX,EAAI,iBAAiB,QAAS,IAAM,CAClC,AAAI,EACF,EAAO,YAEP,EAAO,SAGX,EAAO,iBAAiB,QAAS,GAAK,CACpC,EAAY,SAAU,EAAG,GACzB,EAAsB,EAAG,KAI7B,EAAU,gCAAiC,sCAC3C,EAAU,4BAA6B,kCACvC,EAAU,2BAA4B,iCACtC,EAAU,0BAA2B,gCACrC,EAAU,0BAA2B,gCACrC,EAAU,4BAA6B",
  "names": []
}
